# i3 config for Kodi media center
font pango:monospace 8
floating_modifier Mod1
bindsym Mod1+d exec dmenu_run

# Workspace names
set $ws1 "1: Kodi"
set $ws2 "2: Browser"

# === Workspace Rules (Applied FIRST) ===
assign [class="Kodi"] $ws1
assign [class="Firefox"] $ws2
for_window [class="Kodi"] fullscreen enable
for_window [class="Firefox"] fullscreen enable

# === Startup Apps (With Delays) ===
exec --no-startup-id "kodi"
exec --no-startup-id "sleep 2 && firefox"
exec --no-startup-id "udiskie --tray"

# === Reapply Rules in Case of Restarts ===
exec_always --no-startup-id "i3-msg '[class=\"Kodi\"] move to workspace $ws1; fullscreen enable'"
exec_always --no-startup-id "i3-msg '[class=\"Firefox\"] move to workspace $ws2; fullscreen enable'"

# === Keybindings ===
set $mod Mod1
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
